<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <body>
    <script>
      let n1 = 10000;
      let n2 = 0.1235;
      let n3 = 31;
      let n4 = 1001;
      let n5 = 1111;
      let n6 = 0.12345;

      // 31 // 가장 가까운 2의 승수는 몇?
      // 32 // 100000
      // 100000 - 1 = 11111

      let s1 = "100000000000";
      let s2 = "100,000,000,000";

      console.log(parseInt(n1)); // 10000
      console.log(parseInt(n2)); // 10 (권장)
      console.log(~~n2); // 10 (코테에서 시간 단축 용도)

      console.log(parseInt(n3, 2)); // NaN (2진법을 10진법으로, 31은 2진법이 아니라서 NaN 출력)
      console.log(parseInt(n4, 2)); // 9
      console.log(parseInt(n4, 8)); // 513 (8진법을 10진법으로)
      console.log(parseInt(n4, 10)); // 1001 (10진법을 10진법으로)

      // toFixed(n): 소수점 n번째까지 출력
      console.log(n6.toFixed(4)); // 10.1235
      console.log(n6.toFixed()); // 0

      // 예외(부동소수점으로 인해 오류가 발생할 수 있음)
      console.log(n2.toFixed(3)); // 0.124가 출력되야 되지만 0.123이 출력됨

      ////////////////

      console.log(Number(true)); // 1
      console.log(Number(false)); // 0

      console.log(parseInt(true)); // NaN
      console.log(parseInt(false)); // NaN

      ////////////////

      console.log(Number(" ")); // 0
      console.log(Number("")); // 0
      console.log(Number("hello")); // NaN
      console.log(Number("10 20")); // NaN
      console.log(Number("10abc")); // NaN

      // 중요
      // 텍스트가 숫자로 시작하지 않을 때 NaN
      // 텍스트가 숫자로 시작했을 경우 숫자 까지만 변환 가능
      console.log(parseInt(" ")); // NaN
      console.log(parseInt("")); // NaN
      console.log(parseInt("hello")); // NaN
      console.log(parseInt("10 20")); // 10
      console.log(parseInt("10abc")); // 10
      console.log(parseFloat("10.123")); // 10.123

      ////////////////

      console.log(Number("    10")); // 10
      console.log(Number("10   ")); // 10
      console.log(Number("    10   ")); // 10

      console.log(parseInt("    10")); // 10
      console.log(parseInt("10   ")); // 10
      console.log(parseInt("    10   ")); // 10

      ////////////////
      console.log(Infinity); // Infinity
      console.log(Infinity > 100); // true
      console.log(Infinity < 100); // false
      console.log(Infinity - Infinity); // NaN (중요 X)

      // Math
      console.log(Math.abs(-10)); // 10 (절댓값)
      console.log(Math.ceil(10.3)); // 11 (올림)
      console.log(Math.floor(10.3)); // 10 (내림)
      console.log(Math.round(10.5)); // 11 (반올림)
      console.log(Math.round(10.4)); // 10 (반올림)
      console.log(Math.sqrt(100)); // 10 (square root, 루트)

      console.log(Math.PI); // 3.141592653589793
      console.log(Math.min(1, 3, 5, 6, 7, 23, 9)); // 1
      console.log(Math.max(1, 3, 5, 6, 7, 23, 9)); // 23

      console.log(Math.min([1, 2, 3, 4, 5])); // NaN
      console.log(Math.min(...[1, 2, 3, 4, 5])); // 1 (... 전개구문)

      let values = [1, 2, 3, 4, 5];
      let values2 = [6, 7, 8, 11, 10];
      console.log(Math.max(...values)); // 5
      console.log(...values, ...values2); // 1 2 3 4 5 6 7 8 11 10

      // 0 이상 ~ 1 미만
      console.log(Math.random()); // 0.xxxxxxxxxxxx

      // 1 ~ 10까지 난수 생성
      parseInt(Math.random() * 10 + 1); // 1을 더해주는 이유는 10미만이므로

      // math random 최솟값, 최댓값 지정
      // 120 ~ 150
      console.log(Math.random() * (150 - 120) + 120);

      // 아래와 같이 있으나, 잘 사용되지 않는 메서드들이 있다.
      Math.pow(2, 3); // 2 ** 3

      ///////////////

      // 부동소수점
      // Computer에서 10진수 연산은 정확하지 않다.
      // 결론은 0.1이 Computer 입장에서 무한수다!
      // 반복문 안에 0.1씩 증가하는 코드를 혹시 작성하게 된다면, 예측 불가한 값이 생성이 된다는 것을 인지해야한다!
      console.log(0.1 + 0.2); // 0.30000000000000004
      console.log(0.1 * 3); // 0.30000000000000004
      console.log(0.3 + 0.6); // 0.8999999999999999

      // 문제가 되는 경우
      let width = 0.3;
      let height = 0.6;
      if (width + height >= 0.9) {
        console.log("실행해!"); // 실행 안됨
      }

      let n = 1;
      while (n <= 3) {
        console.log(0.3 * n); // 0.3, 0.6, 0.899999999999999
        n++;
      }

      ////////////////

      // BigInt
      // JS에서 큰 숫자를 사용할 때에는 BigInt를 사용한다.
      // 추가된지 3년밖에 안돼서 사용하지 않는 곳도 있음
      // The proposal belongs to ECMAScript 2020, which is the 11th edition
      console.log(Number.MAX_SAFE_INTEGER); // 2^53 - 1 (9007199254740991)

      // 서비스는 항상 최악의 상황, 악성 유저에 대비해야 한다.
      // 아래처럼 정상 작동이 되지 않는 경우들이 있다.
      console.log(2 ** 53 - 1); // 9007199254740991
      console.log(9007199254740991 + 1); // 9007199254740992
      console.log(9007199254740991 + 2); // 9007199254740992 (틀림)
      console.log(9007199254740991 + 3); // 9007199254740994
      console.log(9007199254740991 + 4); // 9007199254740996 (틀림)

      // 제대로 나오게 하려면 n을 붙이세요!
      console.log(9007199254740991n + 1n); // 9007199254740992n
      console.log(9007199254740991n + 2n); // 9007199254740993n
      console.log(9007199254740991n + 3n); // 9007199254740994n
      console.log(9007199254740991n + 4n); // 9007199254740995n

      console.log(BigInt(9007199254740991) + BigInt(1)); // 9007199254740992n
      console.log(BigInt(9007199254740991) + BigInt(2)); // 9007199254740993n
      console.log(BigInt(9007199254740991) + BigInt(3)); // 9007199254740994n
      console.log(BigInt(9007199254740991) + BigInt(4)); // 9007199254740995n

      // 참고삼아 기억해주세요.
      console.log(BigInt(5) + 5n); // 10n
      // console.log(BigInt(5) + 5) // error
      console.log(BigInt(5) / 2n); // 2n (소수 표현 안됨)
      console.log(BigInt("9007199254740993") + BigInt("5")); // 20n (큰 값을 정수로 입력받을 때에는 string으로 처리해서 받아야 함)

      // 공식문서 설명
      /*
            9007199254740991 이 숫자는 Number.MAX_SAFE_INTEGER와 동일 수 입니다. 말 그대로 안전한 숫자입니다. 만약 BigInt 안의 숫자를 이 숫자보다 큰 숫자로 하였을 경우, 정확한 연산이 안됩니다. MDN 문서를 보시죠.

            const x = Number.MAX_SAFE_INTEGER + 1;
            const y = Number.MAX_SAFE_INTEGER + 2;

            console.log(x === y);

            분명히 다른 숫자를 더했는데 true가 나옵니다.

            이 '안전하지 않은 숫자'를 BigInt 안에 넣어보겠습니다.

            BigInt(9007199254740993) // 9007199254740992n
            BigInt(9007199254740995) // 9007199254740996n

            보시는 것처럼 제대로 표현하지 못하고 있어요.

            하지만 BigInt 안에 이 숫자를 문자로 넣어주면
            BigInt("9007199254740993") // 9007199254740993n
            BigInt("9007199254740995") // 9007199254740995n

            위와 같이 제대로 표현합니다.

            그래서 BigInt로 큰 숫자를 표현하더라도, 그 안에 들어가는 값은 Number.MAX_SAFE_INTEGER 이하일 때만 안전하고 그 이상의 숫자를 넣으면 정확하게 결과값을 내어주지 않습니다. 따라서 BigInt()를 사용하여 더 큰 숫자를 표현하고 싶을 때에는 문자로 넣어주세요.
        */

      //////////////////
      // 상식으로 알아두면 좋은 것
      let x = 10;
      console.log(x.toString()); // 10 (console.log로 문자열을 출력하게 되면 따옴표가 없다.)

      // console.log(10.toString()) // error (10.까지가 소숫점으로 인식)
      console.log((10).toString()); // 괄호를 하면 error가 나지 않는다.

      /*
          1bit = 0과 1을 표현할 수 있는 최소 단위
          8bit = 1byte
          00000000 ~ 11111111 (0 ~ 255)
              ex) 0.0.0.0 ~ 255.255.255.255
          1024byte = 1KB
          1024KB = 1MB
          1024MB = 1GB
          1024GB = 1TB
          (KB,MB,GB,TB,PB)
      */
    </script>
  </body>
</html>
